# Spending Transaction Monitor Environment Configuration
# Copy this file to .env and update the values

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_DB=spending-monitor
POSTGRES_USER=user
POSTGRES_PASSWORD=password
DB_PORT=5432
DATABASE_URL=postgresql+asyncpg://user:password@postgres:5432/spending-monitor

# =============================================================================
# API Configuration
# =============================================================================
API_PORT=8000
ENVIRONMENT=development
BYPASS_AUTH=false
DEBUG=false

# =============================================================================
# CORS Configuration
# =============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
ALLOWED_HOSTS='["http://localhost:3000"]'

# =============================================================================
# LLM Configuration (Required for AI features)
# =============================================================================
LLM_PROVIDER=openai
BASE_URL=https://api.openai.com/v1
API_KEY=your-openai-api-key-here
MODEL=gpt-3.5-turbo
NODE_ENV=development

# =============================================================================
# Embedding Configuration (for category normalization)
# =============================================================================
# Uses local sentence-transformers by default - no external services required!
EMBEDDING_PROVIDER=local
EMBEDDING_MODEL=all-minilm
EMBEDDING_DIMENSIONS=384
# OLLAMA_BASE_URL=http://localhost:11434  # Only needed if using ollama provider (deprecated)
# LLAMASTACK_BASE_URL=http://localhost:8080  # For future LlamaStack integration

# =============================================================================
# LLM Configuration - vertexai(Required for AI features)
# =============================================================================

# LLM_PROVIDER=vertexai
# Add the following files to the ~/.vertexai folder
# a. sa.json
# b. config.json

# =============================================================================
# Keycloak Authentication (Optional - only if using Keycloak)
# =============================================================================
# KEYCLOAK_URL: The external URL where Keycloak is accessible
# - Used by the API to connect to Keycloak
# - The hostname is automatically extracted and set as Keycloak's KC_HOSTNAME
# - For local development: http://localhost:8080
# - For OpenShift: https://keycloak-route-name.apps.your-cluster.example.com
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=spending-monitor
KEYCLOAK_CLIENT_ID=spending-monitor

# Keycloak Setup Script Configuration (used by packages/auth/scripts/setup_keycloak.py)
# These are only needed when running the Keycloak setup script
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_REDIRECT_URIS=http://localhost:3000/*
KEYCLOAK_WEB_ORIGINS=http://localhost:3000
KEYCLOAK_DEFAULT_PASSWORD=password123

# Keycloak Admin Password (REQUIRED for Helm deployment)
# This is used for both the setup script and Helm deployment
KEYCLOAK_ADMIN_PASSWORD=admin

# Keycloak Database Configuration (REQUIRED for Helm deployment)
# Keycloak uses a dedicated PostgreSQL instance (pgvector subchart)
# These credentials are used to create and access the Keycloak database
KEYCLOAK_DB_USER=keycloak
KEYCLOAK_DB_PASSWORD=keycloak
# Note: The pgvector subchart automatically creates the database and user with these credentials

# For production, update these to secure values:
# KEYCLOAK_ADMIN_USER=your-admin-username
# KEYCLOAK_ADMIN_PASSWORD=your-secure-admin-password
# KEYCLOAK_DB_PASSWORD=your-secure-db-password
# KEYCLOAK_REDIRECT_URIS=https://app.your-domain.com/*,https://app.your-domain.com
# KEYCLOAK_WEB_ORIGINS=https://app.your-domain.com
# KEYCLOAK_DEFAULT_PASSWORD=your-secure-default-password

# =============================================================================
# SMTP Configuration (for email notifications)
# =============================================================================
SMTP_HOST=smtp4dev
SMTP_PORT=25
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=spending-monitor@localhost
SMTP_USE_TLS=false
SMTP_USE_SSL=false

# =============================================================================
# UI Configuration
# =============================================================================
VITE_API_BASE_URL=/api
VITE_BYPASS_AUTH=true
VITE_ENVIRONMENT=development
LLAMASTACK_BASE_URL=http://llamastack:8321

